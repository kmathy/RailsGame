!!!
%html
  %head
    %title RailsGame
    = stylesheet_link_tag "application", :media => "all"
    = javascript_include_tag "application"
    = csrf_meta_tags
  %body
    .navbar.navbar-default.navbar-static-top
      - if logged_in?
        .navbar-header
          %a.navbar-brand{:href => "#"}
            = image_tag @current_user.avatar_url, :class => 'img-circle'
      .container-fluid
        .collapse.navbar-collapse
          %ul.nav.navbar-nav
            - if logged_in?
              %li.dropdown
                %a.dropdown-toggle{:href => "#", :data => {:toggle => 'dropdown'}, :role => "button"}
                  Profile
                  %b.caret
                %ul.dropdown-menu
                  %li
                    = link_to 'Sign out', destroy_user_session_path, method: :delete
                  %li
                    %a{:href => "#"} view profile
            - else
              %li.active
                = link_to 'Sign in', new_user_session_path
            %li.dropdown
              %a.dropdown-toggle{:href => "#", :data => {:toggle => 'dropdown'}, :role => "button"}
                Tournaments
                %b.caret
              %ul.dropdown-menu
                %li
                  = link_to 'All tournaments', tournaments_path
                - if logged_in? && @current_user.admin?
                  %li
                    = link_to 'Create tournament', new_tournament_path
            %li.dropdown
              %a.dropdown-toggle{:href => "#", :data => {:toggle => 'dropdown'}, :role => "button"}
                Games
                %b.caret
              %ul.dropdown-menu
                %li
                  = link_to 'All games', games_path
                - if logged_in? && @current_user.admin?
                  %li
                    = link_to 'Create game', new_game_path
            %li.dropdown
              %a.dropdown-toggle{:href => "#", :data => {:toggle => 'dropdown'}, :role => "button"}
                Matches
                %b.caret

    .container
      .text-danger= flash[:error]
      = yield